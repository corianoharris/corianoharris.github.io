function initializeNavigation(){let e=document.querySelector(".nav"),t=document.querySelector(".navOpenBtn"),r=document.querySelector(".navCloseBtn"),a=document.querySelectorAll(".nav-links");t.addEventListener("click",()=>e.classList.add("openNav")),r.addEventListener("click",()=>e.classList.remove("openNav")),a.forEach(t=>{t.addEventListener("click",()=>e.classList.remove("openNav"))})}function updateCopyrightYear(){let e=document.querySelector(".copyright-year");e.textContent=new Date().getFullYear()}function setupTextFade(e,t={}){let r=document.querySelectorAll(e),a={threshold:.1,fadeInDuration:"0.5s",fadeOutDuration:"0.5s",...t},n=new IntersectionObserver(e=>{e.forEach(e=>{e.target.style.transition=`opacity ${e.isIntersecting?a.fadeInDuration:a.fadeOutDuration} ease-${e.isIntersecting?"in":"out"}`,e.target.style.opacity=e.isIntersecting?1:0})},{threshold:a.threshold});r.forEach(e=>{e.style.opacity=0,n.observe(e)})}document.addEventListener("DOMContentLoaded",()=>{initializeNavigation(),updateCopyrightYear(),setupTextFade(".fade-in-out"),sortEventCards(),activeEventCard(),setupMindsetText(),projectCardFocusManagement()});let particles=[],brushStrokes=[],lastMouseX=0,lastMouseY=0;function setup(){let e=createCanvas(windowWidth,windowHeight);e.parent("canvas-container"),background(10);for(let t=0;t<100;t++)particles.push({x:random(width),y:random(height),size:random(2.04,5.1),speedX:random(-.51,.51),speedY:random(-.51,.51),color:color(random(200,255),random(50,150),random(50,150),150)})}function draw(){if(background(255,255,255,255),particles.forEach(e=>{e.x+=e.speedX,e.y+=e.speedY,e.x<0&&(e.x=width),e.x>width&&(e.x=0),e.y<0&&(e.y=height),e.y>height&&(e.y=0),noStroke(),fill(e.color),circle(e.x,e.y,e.size)}),brushStrokes.forEach((e,t)=>{if(e.life-=.5,e.life<=0){brushStrokes.splice(t,1);return}e.points.forEach((t,r)=>{if(0===r)return;let a=e.points[r-1];e(255,255,255,e.life),strokeWeight(e.weight*(e.life/100)*1.02),line(a.x,a.y,t.x,t.y)})}),mouseIsPressed){dist(mouseX,mouseY,lastMouseX,lastMouseY);let e=atan2(mouseY-lastMouseY,mouseX-lastMouseX);for(let t=0;t<5;t++){let r=random(-20.4,20.4),a=mouseX+cos(e+PI/2)*r,n=mouseY+sin(e+PI/2)*r;fill(random(200,255),random(50,150),random(50,150),100),noStroke(),circle(a,n,random(5.1,15.3))}brushStrokes.length>20&&brushStrokes.shift()}lastMouseX=mouseX,lastMouseY=mouseY}function windowResized(){resizeCanvas(windowWidth,windowHeight),background(10)}window.addEventListener("scroll",()=>{let e=window.scrollY;particles.forEach(t=>{t.y-=.0102*e,t.y<0&&(t.y=height),t.y>height&&(t.y=0)})}),window.addEventListener("mousemove",e=>{particles.length>0&&particles.forEach(t=>{if(102>dist(e.clientX,e.clientY,t.x,t.y)){let r=atan2(t.y-e.clientY,t.x-e.clientX);t.x+=2.04*cos(r),t.y+=2.04*sin(r)}})}),document.querySelectorAll(".mindset-text").forEach(e=>{let t=e.querySelector(".short-mindset-desc"),r=e.querySelector(".toggle-mindset-desc-btn");if(t.textContent.length>500){let a=t.textContent,n=a.slice(0,500);t.textContent=n,r.addEventListener("click",()=>{let e="true"===r.getAttribute("aria-expanded");e?(t.textContent=n,r.textContent="...more"):(t.textContent=a,r.textContent="...less"),r.setAttribute("aria-expanded",!e)})}else r.style.display="none"});const links=document.querySelectorAll(".nav-links a");function sortEventCards(){let e=document.querySelector("#events"),t=[...document.querySelectorAll(".event-card")];console.log("Initial order:",t.map(e=>e.getAttribute("data-date"))),t.sort((e,t)=>{let r=new Date(e.getAttribute("data-date")),a=new Date(t.getAttribute("data-date"));return isNaN(r)||isNaN(a)?(console.error("Invalid date format:",{dateA:e.getAttribute("data-date"),dateB:t.getAttribute("data-date")}),0):a-r}),console.log("Sorted order:",t.map(e=>e.getAttribute("data-date"))),e.innerHTML="",t.forEach(t=>e.appendChild(t))}function activeEventCard(){let e=document.querySelector(".slider"),t=document.querySelectorAll(".card");e.addEventListener("scroll",()=>{let r=e.scrollLeft+e.offsetWidth/2;t.forEach(e=>{let t=e.offsetLeft,a=t+e.offsetWidth;r>=t&&r<=a?e.classList.add("active"):e.classList.remove("active")})}),t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(e=>e.classList.remove("active")),e.classList.add("active")})})}function projectCardFocusManagement(){function e(e){if("Tab"===e.key&&!e.shiftKey){let t=document.activeElement,r=document.querySelectorAll(".three-d-bullet"),a=Array.from(r),n=document.querySelector(".three-d-item.active");if(t.closest(".tags")&&t.closest(".three-d-item")===n){let l=Array.from(n.querySelectorAll(".tags p")),s=l[l.length-1];if(t===s){e.preventDefault();let i=document.querySelector(".three-d-bullet:checked"),o=a.indexOf(i),c=(o+1)%a.length;a[c].focus(),a[c].checked=!0;let d=new Event("change");a[c].dispatchEvent(d)}}}if("change"===e.type&&e.target.classList.contains("three-d-bullet")){let u=e.target,f=u.getAttribute("data-type");document.querySelectorAll(".three-d-item").forEach(e=>{e.classList.remove("active")});let $=document.querySelector(`.three-d-item[data-type="${f}"]`);$&&$.classList.add("active")}}!function t(){document.addEventListener("keydown",e),document.querySelectorAll(".three-d-bullet").forEach(t=>{t.addEventListener("change",e)});let r=document.querySelector(".three-d-bullet:checked");r&&e({type:"change",target:r})}()}function setupMindsetText(){document.querySelectorAll(".mindset-text").forEach(e=>{let t=e.querySelector(".short-mindset-desc"),r=e.querySelector(".toggle-mindset-desc-btn");if(t&&r&&t.textContent.length>500){let a=t.textContent,n=a.slice(0,500);t.textContent=n,r.addEventListener("click",()=>{let e="true"===r.getAttribute("aria-expanded");e?(t.textContent=n,r.textContent="...more"):(t.textContent=a,r.textContent="...less"),r.setAttribute("aria-expanded",!e)})}})}links.forEach(e=>{e.addEventListener("click",function(){links.forEach(e=>e.classList.remove("active")),this.classList.add("active")})});